---
layout: default
title: リーマン面の話 - 層
---
最初に層を定義する。多様体の性質を研究する基本的な道具が層である。よく言われているように、対象となる空間を研究するときには、その空間上定義された関数全体というものを考えるとうまくいったりする。まず、層はある意味で空間のもつ関数全体を定める構造である。次に、多様体の性質というのは局所的なものと大域的なものがあり、層は関数空間であるだけでなく、局所的な性質と大域的な性質のつながりも考慮したものになっている。

層の定義の方法は主に二通りの方法があり、通常の入門書では両方の定義を書いてあるのが普通である。これは層に対する異なる直観を与えるためであるので、両方の定義をよく理解しておくと後々の助けになるはずである。最初の定義は各点における関数空間を定めておいてから、そこに位相を定めることで(TBD)

# 関数の局所的性質

関数の局所的性質を議論するために、目的の性質から関数間の同値関係 $$\sim$$ を作り、関数空間 $$F$$ を割ることにする。

$$
F / {\sim}
$$

商集合を使うことにより、特定の性質によって区別できない関数をひとつの元にまとめることができて、考えている性質をはっきり示すことができる。

例として、$$C^\infty$$ 級関数 $$ f : \mathbb{R} \to \mathbb{R} $$ 全体 $$C^\infty(\mathbb{R})$$ 考える。

## 関数の局所的性質その1(特定の点での値)

$$\mathbb{R}$$ の特定の点 $$a$$ での値を局所的性質と考えると、同値関係は

$$
f \sim_a g := f(a) = g(a)
$$

とするのが適当である。

$$
C^\infty(\mathbb{R}) / {\sim_a}
$$

という集合上の関数や関係が、well-defined であることを示すことで、$$f(a)$$ のみに依存した関数や関係であることが証明できる。

関数 $$f$$ の代表する同値類が $$0$$ を含まない場合、関数 $$g$$ が存在して、$$fg$$ の代表する同値類が定数関数 $$1$$ を含むようにできる。

Proof.  $$g$$ を定数関数 $$g(x) := 1/f(a)$$ とすればよい。

同様の証明を繰り返して、この集合は $$\mathbb{R}$$ と同型な体であることがわかる。これはつまらない例である。

## 関数の局所的性質その2(特定の点での接線)

$$\mathbb{R}$$ の特定の点 $$a$$ での接線を局所的性質と考えると、同値関係は

$$
f \sim_{a,a'} g := (f(a), f'(a)) = (g(a), g'(a))
$$

とするのが適当である。商集合を取ると

$$
C^\infty(\mathbb{R}) / {\sim_{a,a'}}
$$

これは体ではないが、たぶん整域である(確認してない)。ひとつ前の例よりは分類が細かくなったが、まだあまり面白そうになっていない。

この空間内の同値類が持つ共通の性質として、関数が局所的に単調増加(or 減少)であるというものがある。

## 関数の局所的性質その3(特定の点での微分すべて)

$$\mathbb{R}$$ の特定の点 $$a$$ での各階の微分を局所的性質と考えると、同値関係は

$$
f \sim_{a,a',a'',\dots} g := (f(a), f'(a), f''(a), \dots) = (g(a), g'(a), g''(a), \dots)
$$

とするのが適当である。商集合を取ると

$$
C^\infty(\mathbb{R}) / {\sim_{a,a',a'',\dots}}
$$

この空間は扱うのが難しい空間で、というのも

$$
f(x) := \exp(-1/|x|)
$$

という関数の代表する同値類は $$0$$ を含む。

この空間内の同値類が持つ共通の性質として、関数が局所的に上に凸(or 下に凸)であるというものがある。

## 関数の局所的性質その4(特定の点の十分小さい近傍)

$$\mathbb{R}$$ の特定の点 $$a$$ での十分小さな近傍での値を局所的性質と考える。このように書くと曖昧さがある。同値関係を使うと正確に

$$
f \sim_{a,da} g := \exists U (\forall x \in U (f(x) = g(x)))
$$

ここで、$$U$$ は $$a$$ の開近傍である。すなわち、$$a$$ の開近傍が存在して、そこで値が等しい関数に共通した性質を考える。

商集合を取ると

$$
C^\infty(\mathbb{R}) / {\sim_{a,da}}
$$

これは(あとでまとめて証明したいが)整域である。これが一番大切な例で、あとでどんどん出てくるはず。

この空間内の同値類は局所的な性質をほとんどを残している。大域的な性質は基本的に残っていない。例えば、関数が有界であるということは同値類の性質ではない。

ここまでの例は分類が細かくなるようになるように並べている。

$$
C^\infty(\mathbb{R}) / {\sim_{a,da}}
\twoheadrightarrow C^\infty(\mathbb{R}) / {\sim_{a,a',a'',\dots}}
\twoheadrightarrow C^\infty(\mathbb{R}) / {\sim_{a,a'}}
\twoheadrightarrow C^\infty(\mathbb{R}) / {\sim_{a}}
$$

# 解析関数の局所的性質

ここまでの例は$$C^\infty$$級の関数空間を考えていた。これを解析関数 $$C^\omega$$ に変えてもほとんど同じであるが、解析関数は定義域を勝手に広げられないので真面目に考えないといけない。$$\mathbb{R}$$ の領域 $$D$$ 上の解析関数全体を $$C^\omega(D)$$ とする。$$D$$ を動かした時の直和

$$
\sum_{D\subset \mathbb{R}} C^\omega(D) := \{ (D, f) \vert D \subset \mathbb{R}, f \in C^\omega(D) \}
$$

を関数空間と考える。つまり、関数はつねに定義域と対にして考えている。この場合は同値関係を少し真面目に書かないといけない。$$\mathbb{R}$$ の点 $$a$$ に対して、この関数空間上の同値関係を

$$
(D_f, f) \sim_{a,da} (D_g, g) := \exists U \subset D_f \cap D_g (\forall x \in U (f(x) = g(x)))
$$

で定める。ここで、$$U$$ は $$a$$ の開近傍とする。これで商集合をとる。

$$
\sum_{D\subset \mathbb{R}} C^\omega(D) / {\sim_{a,da}}
$$

他の同値関係も同様に

$$
(D_f, f) \sim_{a} (D_g, g) := a \in D_f \cap D_g \text{ and } f(a) = g(a)
$$

のように改造するとよい。

# 関数空間の芽と茎と層

ここまでの考察から関数空間の芽(germ)と茎(stalk)を定義する。$$X$$ と $$Y$$ を位相空間とする。$$X$$ の各開集合に対して、$$D$$ から $$Y$$ への連続関数からなる空間$$F(D)$$

$$
F(D) \subset \{ f : D \to Y \vert f : \text{ cont }\}
$$

が定まっていて、$$D$$ の間の包含関係を反映しているとする。すなわち、$$D_1 \subset D_2$$ ならば、関数を適当に制限することで $$F(D_1) \supset F(D_2)$$ になっているとする。$$X$$の点$$a$$ にたいして、空間の直和

$$
\sum_{D\subset X} F(D) := \{ (D_f, f) \vert D_f \subset X,  f \in F(D_f) \}
$$

の上に同値関係

$$
(D_f, f) \sim_{a,da} (D_g, g) := \exists U \subset D_f \cap D_g (\forall x \in U (f(x) = g(x)))
$$

で定める。ここで、$$U$$ は $$a$$ の開近傍とする。この商集合

$$
F_a := \sum_{D\subset X} F(D) / {\sim_{a,da}}
$$

を $$a$$ における $$F$$ の茎と呼び、$$F_a$$ の元を芽と呼ぶ。

上の例では、$$F$$ として $$C^\infty$$ や $$C^\omega$$ を選び、十分小さな開近傍で一致するという局所的性質を選んだ場合の商集合が茎であり、同値類が芽である。上で同値関係を少しずつ強くしていったことにより、判別できる局所的性質が増えていったことを思い出すと、関数の一点での値、接線、さらに高階の接多項式という局所的性質をどんどん足していって辿り着く先が芽である。

$$X$$ の各点にある茎 $$F_a$$ を集めてきて作った集合の直和

$$
\mathfrak{F} := \sum_{a\in X} F_a := \{ (a, g) \vert a \in X, g \in F_a \}
$$

に次のように位相をいれた空間を層と呼ぶ。$$\mathfrak{F}$$の点$$(a, g)$$の基本近傍系を定める。$$g$$ は $$F_a$$ の元なので、同値類である。$$g$$ の元 $$(D_f, f)$$ と $$a$$ の開近傍 $$V \subset D_f$$ を選ぶごとに、$$\mathfrak{F}$$ の部分集合

$$
W_{(D_f, f, V)} := \{ (b, [(V, f)]) \in \mathfrak{F} \ \vert\  b \in V, [(V, f)] \in F_b \}
$$

が定まる。この形でかける集合を基本近傍系として位相を定める。
